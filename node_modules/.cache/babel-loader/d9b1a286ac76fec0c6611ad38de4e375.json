{"ast":null,"code":"import _defineProperty from\"F:/unit5/assignments/c4/exam/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"F:/unit5/assignments/c4/exam/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"F:/unit5/assignments/c4/exam/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useDispatch}from\"react-redux\";import axios from\"axios\";import{login}from\"../Redux/Auth/actions\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var dispatch=useDispatch();var navigate=useNavigate();var handleSubmit=function handleSubmit(e){e.preventDefault();axios.get(\"http://localhost:8080/users\").then(function(data){data.data.map(function(item){// console.log(item);\nif(item.username===form.username&&item.pass===form.password){// console.log(item);\ndispatch(login({login:true}));console.log(item.role);if(item.role===\"admin\"){navigate(\"/orders\");}else{navigate(\"/neworder\");}}});});};var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},name,value)));console.log(form);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,className:\"username\",type:\"text\",name:\"username\",placeholder:\"Enter Username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,className:\"password\",type:\"password\",name:\"password\",placeholder:\"Enter password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"submit\",children:\"Login\"})]});};","map":{"version":3,"names":["useState","useDispatch","axios","login","useNavigate","Login","username","password","form","setForm","dispatch","navigate","handleSubmit","e","preventDefault","get","then","data","map","item","pass","console","log","role","handleChange","target","name","value"],"sources":["F:/unit5/assignments/c4/exam/src/components/Login.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport { login } from \"../Redux/Auth/actions\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const Login = () => {\n  const [form, setForm] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios.get(\"http://localhost:8080/users\").then((data) => {\n      data.data.map((item) => {\n        // console.log(item);\n        if (\n          item.username === form.username &&\n          item.pass === form.password\n        ) {\n          // console.log(item);\n          dispatch(login({ login: true }));\n          console.log(item.role);\n          if (item.role === \"admin\") {\n            navigate(\"/orders\");\n          } else {\n            navigate(\"/neworder\");\n          }\n        }\n      });\n    });\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm({\n      ...form,\n      [name]: value,\n    });\n    console.log(form);\n  };\n\n  return (\n    <div>\n      <input\n        onChange={handleChange}\n        className=\"username\"\n        type=\"text\"\n        name=\"username\"\n        placeholder=\"Enter Username\"\n      />\n      <input\n        onChange={handleChange}\n        className=\"password\"\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Enter password\"\n      />\n      {/* On this button click make network req to find user with same username and password */}\n      {/* get his role, if role is `admin` take him to `/orders` page otherwise take him to `/neworder` */}\n      <button onClick={handleSubmit} className=\"submit\">\n        Login\n      </button>\n    </div>\n  );\n};"],"mappings":"uVAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,uBAAtB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CACzB,cAAwBL,QAAQ,CAAC,CAC/BM,QAAQ,CAAE,EADqB,CAE/BC,QAAQ,CAAE,EAFqB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAKA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACAZ,KAAK,CAACa,GAAN,CAAU,6BAAV,EAAyCC,IAAzC,CAA8C,SAACC,IAAD,CAAU,CACtDA,IAAI,CAACA,IAAL,CAAUC,GAAV,CAAc,SAACC,IAAD,CAAU,CACtB;AACA,GACEA,IAAI,CAACb,QAAL,GAAkBE,IAAI,CAACF,QAAvB,EACAa,IAAI,CAACC,IAAL,GAAcZ,IAAI,CAACD,QAFrB,CAGE,CACA;AACAG,QAAQ,CAACP,KAAK,CAAC,CAAEA,KAAK,CAAE,IAAT,CAAD,CAAN,CAAR,CACAkB,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,IAAjB,EACA,GAAIJ,IAAI,CAACI,IAAL,GAAc,OAAlB,CAA2B,CACzBZ,QAAQ,CAAC,SAAD,CAAR,CACD,CAFD,IAEO,CACLA,QAAQ,CAAC,WAAD,CAAR,CACD,CACF,CACF,CAfD,EAgBD,CAjBD,EAkBD,CApBD,CAsBA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACX,CAAD,CAAO,CAC1B,cAAwBA,CAAC,CAACY,MAA1B,CAAQC,IAAR,WAAQA,IAAR,CAAcC,KAAd,WAAcA,KAAd,CACAlB,OAAO,gCACFD,IADE,wBAEJkB,IAFI,CAEGC,KAFH,GAAP,CAIAN,OAAO,CAACC,GAAR,CAAYd,IAAZ,EACD,CAPD,CASA,mBACE,oCACE,cACE,QAAQ,CAAEgB,YADZ,CAEE,SAAS,CAAC,UAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,gBALd,EADF,cAQE,cACE,QAAQ,CAAEA,YADZ,CAEE,SAAS,CAAC,UAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,gBALd,EARF,cAiBE,eAAQ,OAAO,CAAEZ,YAAjB,CAA+B,SAAS,CAAC,QAAzC,mBAjBF,GADF,CAuBD,CA/DM"},"metadata":{},"sourceType":"module"}